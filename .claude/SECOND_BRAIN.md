# 🧠 Discord セカンドブレイン設定

## 概要

Claude Code のセッション情報を Discord に保存し、**検索可能なナレッジベース**として活用します。

---

## 🎯 保存される情報

### セッションメタデータ

| 項目 | 説明 |
|------|------|
| 日時 | セッションの日時 |
| ユーザー | 誰が作業したか |
| ホスト | どのマシンで作業したか |
| プロジェクト | 作業対象プロジェクト |
| パス | ワークディレクトリ |

### セクション構成

```markdown
# 🧠 Claude Code Memory

## 💡 重要な発見・学習
このセッションで得た知見

## 🔧 技術的メモ
技術的な詳細・設定変更など

## ⚠️ 問題・エラーと解決策
遭遇した問題と解決方法

## 🔗 関連リソース
参考ドキュメント・Issueなど

## 📂 Git 変更
変更ファイル一覧
```

---

## 📁 保存場所

| 場所 | 説明 |
|------|------|
| **Discord** | `#general` (デフォルト) - 全体で共有 |
| **ローカル** | `~/.clawdbot/memory/YYYY-MM-DD-HHMMSS.md` |

---

## 🔧 設定

### 環境変数

| 変数 | 説明 | デフォルト |
|------|------|----------|
| `DISCORD_BRAIN_CHANNEL` | 保存先チャンネルID | `1465087447225598207` (#general) |
| `DISCORD_NOTIFY_CHANNEL` | ステータス通知先 | `1465087451113722019` (#status) |

### チャンネル変更例

```bash
cd ~/dev/clawdbot

# #announcements に保存
echo 'DISCORD_BRAIN_CHANNEL=1465087454963830825' >> .env

# #task-queue に保存
echo 'DISCORD_BRAIN_CHANNEL=1465087503622209757' >> .env
```

---

## 📊 フック実行順序

```
SessionStart → タスク開始通知
                ↓
        [作業実行]
                ↓
SessionEnd  → 1. セカンドブレイン保存 (discord-brain-save.sh)
            → 2. タスク完了通知 (discord-task-end.sh)
```

---

## 🔍 検索・活用方法

### Discord 検索

```
# プロジェクト別
in:#general #clawcode

# 日付別
in:#general from:bot after:2026-01-26

# キーワード検索
in:#general エラー 解決
in:#general 設定 変更
```

### ローカル検索

```bash
# メモリディレクトリから検索
cd ~/.clawdbot/memory
grep -r "キーワード" *.md
```

---

## ✨ 活用シナリオ

### 1. 問題解決の記録

- エラー内容と解決手順
- トラブルシューティングのナレッジ蓄積

### 2. 設定変更の履歴

- どの設定をいつ変更したか
- 変更前後の比較

### 3. 学習の記録

- 新しく学んだ技術・概念
- ベストプラクティスの発見

### 4. チーム共有

- 全員が同じ Discord を見れる
- 知見の共有・再利用

---

## 📝 セカンドブレイン運用ガイド

### 効率的なタグ付け

Discord のメッセージには自動的にタグが付与されます：

- `#clawcode` - Claude Code セッション
- `#memory` - メモリ記録
- `#プロジェクト名` - プロジェクト特定

### 手動追加推奨タグ

```
#解決済 - 問題解決記録
#設定 - 設定変更
#バグ - バグ報告
#学習 - 新規学習
```

---

## 🔄 保管・アーカイブ

古いメモリの整理：

1. 定期的に Discord メッセージをスレッド化
2. 重要な情報は Wiki に昇格
3. ローカルファイルは適宜削除・アーカイブ

---

準備完了です！次回のセッション終了時に自動保存されます。
