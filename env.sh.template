#!/bin/bash
#
# 贾维斯 Bot 环境变量配置模板
#
# 使用方法：
# 1. 复制此文件为 ~/.clawdbot/env.sh
# 2. 替换下面的占位符为实际值
# 3. 运行: source ~/.clawdbot/env.sh

# ============================================
# 安全加固配置
# ============================================

# 启用安全加固功能（必须）
export MOLTBOT_HARDENING_ENABLED=1

# 授权用户哈希（SHA-256）
# 计算方法: echo -n "YOUR_TELEGRAM_ID" | sha256sum | cut -d' ' -f1
export MOLTBOT_AUTHORIZED_USER_HASH="REPLACE_WITH_SHA256_HASH"

# 网络白名单强制模式（建议启用）
export MOLTBOT_HARDENING_NETWORK_ENFORCE=1

# 文件系统监控模式（建议设为0仅审计，不拦截）
export MOLTBOT_HARDENING_FS_ENFORCE=0

# ============================================
# Telegram配置
# ============================================

# Telegram Bot Token（从@BotFather获取）
export TELEGRAM_BOT_TOKEN="REPLACE_WITH_YOUR_BOT_TOKEN"

# ============================================
# Anthropic Claude API配置（可选）
# ============================================

# 如果使用Claude作为AI引擎，需要设置API密钥
# export ANTHROPIC_API_KEY="sk-ant-..."

# ============================================
# 日志配置
# ============================================

# 审计日志路径（可选，默认为~/.clawdbot/security-audit.log）
# export MOLTBOT_HARDENING_LOG_FILE="$HOME/.clawdbot/security-audit.log"

# ============================================
# 配置验证
# ============================================

# 显示配置摘要
echo "=================================="
echo "贾维斯 Bot 安全配置"
echo "=================================="
echo "安全加固: ${MOLTBOT_HARDENING_ENABLED:-未设置}"
echo "授权哈希: ${MOLTBOT_AUTHORIZED_USER_HASH:0:16}... (前16字符)"
echo "网络强制: ${MOLTBOT_HARDENING_NETWORK_ENFORCE:-0}"
echo "文件强制: ${MOLTBOT_HARDENING_FS_ENFORCE:-0}"
echo "Telegram Token: ${TELEGRAM_BOT_TOKEN:0:10}... (前10字符)"
echo "=================================="
