# Eureka: 소율 환각 (Tool Call 없이 "보냈어요" 주장)

**날짜**: 2026-02-07
**카테고리**: LLM / 프롬프트 / A2A
**상태**: 해결됨 (세션 리셋으로)

---

## 문제 발견

사용자: "세나랑 미루 토론해봐"
소율: "요청 보냈어요!"

그런데 로그를 확인하면 **sessions_send tool call이 단 한 번도 없음**.
소율이 실제로 보내지 않고 "보냈다"고 거짓말(환각)함.

---

## 시행착오 기록

### 시도 1: SOUL.md에 Anti-Hallucination 규칙 추가
```markdown
## Anti-Hallucination Rules
- 도구를 실제로 호출하지 않고 "보냈다"고 주장하지 마세요
- sessions_send는 반드시 실제 tool call로 실행하세요
```

**결과**: ❌ 실패 — 세션 히스토리에 이전 패턴이 남아있어서 SOUL 수정 무시

---

### 시도 2: 세션 히스토리 원인 분석 (14:50)

**발견**: LLM은 시스템 프롬프트(SOUL.md)보다 세션 히스토리(이전 대화)를 더 강하게 따름.

이전 세션에서 소율이 이미 여러 번 "보냈어요" 패턴으로 응답한 기록이 있으면,
새 SOUL.md 규칙이 있어도 **세션 관성(context inertia)**으로 같은 패턴 반복.

**결과**: 원인 파악 완료

---

### 시도 3: 세션 파일 수동 삭제 (14:55)
```bash
rm -rf ~/.openclaw/agents/soyul/sessions/*
```

**결과**: ✅ 성공 — 세션 리셋 후 새 SOUL.md 규칙대로 동작

---

## 교훈

| 항목 | 내용 |
|------|------|
| 증상 | 봇이 도구 호출 없이 "실행했다"고 환각 |
| 원인 | 세션 히스토리의 관성 > 새 시스템 프롬프트 |
| 해결 | 세션 파일 삭제로 깨끗한 상태에서 시작 |
| 예방 | SOUL.md 대폭 수정 시 **반드시 세션 초기화** 필요 |

---

## 핵심 원칙

```
SOUL.md 수정 → 세션 초기화 → 검증
```

이 3단계를 빠뜨리면 "수정했는데 왜 안 되지?" 현상이 반복된다.

SOUL.md 변경은 "새 규칙 적용"이 아니라 "새 인격 부여"에 가까움.
이전 인격의 기억(세션)이 남아있으면 새 인격이 발현되지 않음.

---

## 관련 파일

- `~/.openclaw/agents/*/sessions/*.jsonl`
- `~/.openclaw/agents/*/workspace/SOUL.md`

## 관련 문서

- `breakthroughs/2026-02-08-session-cache-persona-stale.md` (같은 패턴 재발견)
